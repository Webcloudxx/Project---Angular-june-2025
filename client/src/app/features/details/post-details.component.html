<ng-container *ngIf="post$ | async as p">
  <h2>{{ p.title }}</h2>
  <p style="white-space: pre-wrap">{{ p.content }}</p>

  <div *ngIf="p.mediaUrl">
    <img [src]="p.mediaUrl" alt="media" style="max-width:100%; border-radius:8px;" />
  </div>

  <div style="display:flex; gap:10px; align-items:center; margin-top:8px;">
    <button
      (click)="toggleLike()"
      [disabled]="(me$ | async)?.id === p.authorId"
      title="You can't like your own post"
    >
      {{ p.likedByMe ? '💔 Unlike' : '❤️ Like' }} ({{ p.likeCount || 0 }})
    </button>

    <a [routerLink]="['/edit', p.id]">Edit</a>
  </div>
</ng-container>